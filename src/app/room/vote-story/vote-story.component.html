<h2>Voting</h2>

<div
    *ngIf="room.gameState.storyTeller.id !== room.currentUser.id && !room.localState.myVotedCardId && !alreadyVoted; else waitingBlock">
    <p>
        Try to pick the card of the story teller!<br />
        <small>(You can not pick your own cards.)</small>
    </p>


    <h3 style="font-style: italic;">"{{room.gameState.story}}"</h3>
    <app-card-picker [cards]="room.localState.voteCardIds" [(selectedCard)]="voteCard"
        [blockedCards]="[room.localState.mySubmittedCardId]">
    </app-card-picker>
    <br />

    <button (click)="voteForCard()"
        [disabled]="alreadyVoted || !voteCard || voteCard === room.localState.mySubmittedCardId">
        Vote for card!
    </button>
</div>

<ng-template #waitingBlock>
    <app-card-picker [cards]="room.localState.voteCardIds" [(selectedCard)]="voteCard" [isEnabled]="false">
    </app-card-picker>
    <p>Waiting for others to vote...</p>
</ng-template>